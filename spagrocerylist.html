<html>
  <head>
      <title>Shopping List</title>
      <link rel="stylesheet" href="spagrocerylist.css" type="text/css">
      <script src="http://bnmnetp.github.io/CS130/listsaver.js">
</script>
  </head>
  <body>
  <section>
    <h3>Cool Grocery App</h3>
    <ul id="glist">
      
    </ul>
    <input type="text" id="item" value="" />
    
    <select id="kind">
       <option>Meat</option>
       <option>Paper</option>
       <option>Produce</option>
    </select>

    <button onclick="additem();">Add Item</button>
    <button onclick="clearitems();">Clear List</button>
    </section>
    
    <script type="text/javascript">
        checkoffitem = function() {
          if (this.checked)
             this.parentNode.classList.add("done");
          else
             this.parentNode.classList.remove("done");
          localSave("glist");
        }
        
        clearitems = function() {
             thelist = document.querySelector("#glist");
             thelist.innerHTML="";
             localSave("glist");
        }
        additem = function() {
             thelist = document.querySelector("#glist");
             thetext  = document.querySelector('#item').value;
             document.querySelector('#item').value="";

             contents = document.createElement("li")
             
             box = document.createElement("input")
             box.type="checkbox";
             box.onclick = checkoffitem;
             
             contents.appendChild(box);
             
             stuff = document.createTextNode(thetext);
             
             contents.appendChild(stuff);
             
             dropdown = document.querySelector("#kind")
             itemkind = dropdown.options[dropdown.selectedIndex].value
             
             contents.classList.add(itemkind);
             thelist.appendChild(contents);
             
             localSave("glist");
          }
      window.onload = function() {restoreList("glist",checkoffitem);}
   </script>
   
  </body>
</html>
